# 思源笔记项目字段实时汇总指导

## 1. 统一字段结构
- 每个项目文档（简称 A）第一行使用 H1 作为项目标题，紧跟字段段落：设计人、设计时间、状态、备注等。
- 在对应块上添加属性：右键段落或标题 → 属性 → 添加键值，如 `设计人=小张`。文本里可以保留“设计人：小张”，但属性值必须是纯数据。
- 建议所有项目文档使用同一套字段名称并存放在同一目录（如 `/Projects/`），便于 SQL 查询限定范围。

## 2. 在汇总文档 S 中创建数据库
- 打开文档 S，插入数据库表格块（新建块 → 数据库 → 表格）。
- 表格右上角选择“SQL”作为数据源。

## 3. SQL 查询示例
```sql
SELECT
  h.content AS 项目名称,
  attr(h.id, '设计人')   AS 设计人,
  attr(h.id, '设计时间') AS 设计时间,
  attr(h.id, '状态')     AS 状态,
  attr(h.id, '备注')     AS 备注
FROM blocks h
WHERE h.type = 'h1'
  AND h.path LIKE '/Projects/%'
ORDER BY h.created DESC;
```
- `attr(block_id, '字段名')` 调用块属性；这里以 H1 块为一条记录。
- 按实际目录修改 `h.path` 条件。

## 4. 调整表格视图
- SQL 返回结果后，表格生成对应列；可把列标题改成“项目名称/设计人/设计时间/状态/备注”。
- 可继续设置排序、筛选或分组，让视图更易用。

## 5. 使用与维护
- 修改 A 文档的标题或属性后，S 中数据库自动刷新；需要立即同步时可使用表格菜单中的“刷新”。
- 新增项目时套用统一模板（标题 + 字段段落 + 属性），即可自动出现在汇总表中。
- 扩展字段时，为每个项目文档添加新属性，并在 SQL 中增加列即可。
